{"componentChunkName":"component---src-templates-post-jsx","path":"/junit4-junit5/","result":{"data":{"site":{"siteMetadata":{"title":"onseok.blog"}},"markdownRemark":{"id":"b6eb455b-15e0-51eb-8c18-31e889b742d5","excerpt":"안드로이드 개발에서 테스팅은 애플리케이션의 품질을 보장하는 중요한 단계입니다. 특히 JUnit은 자바와 코틀린 환경에서 가장 널리 사용되는 테스팅 프레임워크이지만, JUnit4와 JUnit5 사이에는 상당한 차이가 있으며 이는 안드로이드 테스트 환경에서 여러 문제를 일으킬 수 있습니다. 이 글에서는 JUnit4와 JUnit5의 주요 차이점, Robolec…","html":"<p>안드로이드 개발에서 테스팅은 애플리케이션의 품질을 보장하는 중요한 단계입니다. 특히 JUnit은 자바와 코틀린 환경에서 가장 널리 사용되는 테스팅 프레임워크이지만, JUnit4와 JUnit5 사이에는 상당한 차이가 있으며 이는 안드로이드 테스트 환경에서 여러 문제를 일으킬 수 있습니다. 이 글에서는 JUnit4와 JUnit5의 주요 차이점, Robolectric이 JUnit4만 지원하는 제약을 해결하는 방법에 대해 알아보겠습니다.</p>\n<h2 id=\"JUnit4-vs-JUnit5\" style=\"position:relative;\"><a href=\"#JUnit4-vs-JUnit5\" aria-label=\"JUnit4 vs JUnit5 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>JUnit4 vs JUnit5</h2>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/1c26ab8af3ae58d148c3a3af21258636/f759a/junit5-release.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 39.411764705882355%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA/klEQVR42qWQ2Y7DIAxF+/+fGCmZqE0ChD1kgSy6xYw6b5OXIlkXG3N94HGuK44wYXcWu3f4dj3OJSBJgaRGJKO+N4wxYp5nLMuCKQSEHGumpjop1VNKf/l1XfeGWmv8tC1e3Qt1XaNpGgzDACEEuq5D3/cwxkBKWfbHcdwb0nSi+BCQfoi2bStnRE1KOb3mPM//Dam5qqpCpJQqwTkvRBSMsULGOYOSI9jQ54HxnpAmT9ME730hIKWciEkp5mWFCTtGG6FchPYbhF3hQsxfonNP+DWkS865QkNk1lqM41hIqU57k/9ZG4+nCKh7h7pzePKAlgUwNWdyCZPvkeEbOw1rxzpwrroAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='junit5 release' title='' src='/static/1c26ab8af3ae58d148c3a3af21258636/ca1dc/junit5-release.png' srcset='/static/1c26ab8af3ae58d148c3a3af21258636/e7570/junit5-release.png 170w,\n/static/1c26ab8af3ae58d148c3a3af21258636/f46e7/junit5-release.png 340w,\n/static/1c26ab8af3ae58d148c3a3af21258636/ca1dc/junit5-release.png 680w,\n/static/1c26ab8af3ae58d148c3a3af21258636/f759a/junit5-release.png 1018w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<p><code class=\"language-text\">JUnit5</code>는 <a href=\"https://junit.org/junit5/docs/5.1.0/release-notes/index.html#release-notes-5.0.0\">2017년 9월 10일에 처음 릴리즈</a> 되었습니다. <code class=\"language-text\">JUnit4</code>보다 여러 면에서 개선되었는데,가장 큰 차이점들을 살펴보겠습니다.</p>\n<h3 id=\"1-아키텍처-차이\" style=\"position:relative;\"><a href=\"#1-%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98-%EC%B0%A8%EC%9D%B4\" aria-label=\"1 아키텍처 차이 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>1. 아키텍처 차이</h3>\n<p><strong>JUnit4</strong>:</p>\n<ul>\n<li>단일 <code class=\"language-text\">jar</code> 파일로 제공</li>\n<li>모놀리식 아키텍처</li>\n</ul>\n<p><strong>JUnit5</strong>:</p>\n<ul>\n<li>\n<p>모듈화된 구조</p>\n<ul>\n<li><code class=\"language-text\">JUnit Platform</code>: 테스트 실행을 위한 기반</li>\n<li><code class=\"language-text\">JUnit Jupiter</code>: 새로운 테스트 API</li>\n<li><code class=\"language-text\">JUnit Vintage</code>: JUnit3, JUnit4 호환성 지원</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"2-어노테이션-변경\" style=\"position:relative;\"><a href=\"#2-%EC%96%B4%EB%85%B8%ED%85%8C%EC%9D%B4%EC%85%98-%EB%B3%80%EA%B2%BD\" aria-label=\"2 어노테이션 변경 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>2. 어노테이션 변경</h3>\n<table>\n<thead>\n<tr>\n<th>JUnit4</th>\n<th>JUnit5</th>\n<th>설명</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">@Before</code></td>\n<td><code class=\"language-text\">@BeforeEach</code></td>\n<td>각 테스트 메서드 전에 실행</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">@After</code></td>\n<td><code class=\"language-text\">@AfterEach</code></td>\n<td>각 테스트 메서드 후에 실행</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">@BeforeClass</code></td>\n<td><code class=\"language-text\">@BeforeAll</code></td>\n<td>클래스의 모든 테스트 전에 실행</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">@AfterClass</code></td>\n<td><code class=\"language-text\">@AfterAll</code></td>\n<td>클래스의 모든 테스트 후에 실행</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">@Ignore</code></td>\n<td><code class=\"language-text\">@Disabled</code></td>\n<td>테스트 비활성화</td>\n</tr>\n<tr>\n<td>N/A</td>\n<td><code class=\"language-text\">@DisplayName</code></td>\n<td>테스트에 사용자 정의 이름 부여</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"3-새로운-기능들\" style=\"position:relative;\"><a href=\"#3-%EC%83%88%EB%A1%9C%EC%9A%B4-%EA%B8%B0%EB%8A%A5%EB%93%A4\" aria-label=\"3 새로운 기능들 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>3. 새로운 기능들</h3>\n<p><strong>JUnit5</strong>에서 추가된 주요 기능들:</p>\n<ul>\n<li><strong>중첩 테스트</strong>: <code class=\"language-text\">@Nested</code> 어노테이션</li>\n<li><strong>태그 필터링</strong>: <code class=\"language-text\">@Tag</code> 어노테이션</li>\n<li><strong>파라미터화된 테스트 개선</strong>: <code class=\"language-text\">@ParameterizedTest</code>, <code class=\"language-text\">@ValueSource</code>, <code class=\"language-text\">@CsvSource</code> 등</li>\n<li><strong>확장 모델</strong>: <code class=\"language-text\">@ExtendWith</code> 사용</li>\n<li><strong>조건부 테스트 실행</strong>: <code class=\"language-text\">@EnabledOnOs</code>, <code class=\"language-text\">@EnabledIfSystemProperty</code> 등</li>\n<li><strong>인터페이스 기본 메서드로 테스트 선언 지원</strong></li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token comment\">// JUnit4 예시</span>\n<span class=\"token annotation builtin\">@Test</span>\n<span class=\"token annotation builtin\">@Category</span><span class=\"token punctuation\">(</span>SlowTests<span class=\"token punctuation\">.</span>class<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">public</span> void <span class=\"token function\">myTest</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// 테스트 코드</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// JUnit5 예시</span>\n<span class=\"token annotation builtin\">@Test</span>\n<span class=\"token annotation builtin\">@Tag</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"slow\"</span></span><span class=\"token punctuation\">)</span>\n<span class=\"token annotation builtin\">@DisplayName</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"샘플 테스트\"</span></span><span class=\"token punctuation\">)</span>\nvoid <span class=\"token function\">myTest</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// 테스트 코드</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"안드로이드에서의-JUnit4와-JUnit5\" style=\"position:relative;\"><a href=\"#%EC%95%88%EB%93%9C%EB%A1%9C%EC%9D%B4%EB%93%9C%EC%97%90%EC%84%9C%EC%9D%98-JUnit4%EC%99%80-JUnit5\" aria-label=\"안드로이드에서의 JUnit4와 JUnit5 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>안드로이드에서의 JUnit4와 JUnit5</h2>\n<p>안드로이드 테스트 환경은 주로 <code class=\"language-text\">JUnit4</code>를 기반으로 구축되어 있습니다. 실제로 많은 사용해보셨을만한 아래의 안드로이드 테스팅 라이브러리들이 여전히 <code class=\"language-text\">JUnit4</code> 기반으로 동작합니다.</p>\n<ol>\n<li><strong>Espresso</strong>: UI 테스트 프레임워크</li>\n<li><strong>AndroidX Test</strong>: 테스트 유틸리티 및 매처</li>\n<li><strong>Mockito</strong>: 모의 객체 프레임워크</li>\n<li><strong>PowerMock</strong>: 정적 메서드 모킹</li>\n<li><strong>Hamcrest</strong>: 선언적 매처</li>\n</ol>\n<p>이러한 라이브러리들은 대부분 JUnit4의 <code class=\"language-text\">@RunWith</code>, <code class=\"language-text\">@Rule</code> 등을 기반으로 작동합니다.</p>\n<p>최근에 회사에서 스크린샷 통합 테스트 구축 작업을 진행하다가, 기존의 테스트 코드들이 <code class=\"language-text\">Junit5</code> 기반으로 동작하고 있어서 JVM UI 테스트를 위해 <a href=\"http://robolectric.org/\">Robolectric</a>을 셋업하는 과정에서 여러 이슈가 있었습니다.</p>\n<h3 id=\"Robolectric\" style=\"position:relative;\"><a href=\"#Robolectric\" aria-label=\"Robolectric permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>Robolectric</h3>\n<p>간단하게 설명하자면, <a href=\"http://robolectric.org/\">Robolectric</a>은 안드로이드 UI 테스트를 JVM 에서 실행할 수 있게 해주는 강력한 도구입니다. 그러나 아쉽게도 <code class=\"language-text\">Robolectric</code>은 현재까지도 <code class=\"language-text\">JUnit4</code> 기반에서만 동작합니다.</p>\n<blockquote>\n<p><a href=\"https://github.com/robolectric/robolectric/issues/3477\">https://github.com/robolectric/robolectric/issues/3477</a> </p>\n</blockquote>\n<p><figure class='gatsby-resp-image-figure' style='margin-bottom: 16px;'>\n    <span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; '>\n      <a class='gatsby-resp-image-link' href='/static/2e36f3783fc9661c069d5f569d07ee50/af7a3/robolectric-junit5-support-issue.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 31.176470588235293%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAABAElEQVR42n2QyW6DMBRFWUfMOCbg1AwBApipaYKKUqmrLvoX/f+fuLWdik1RFkc+z7au7GsU/Yj79xfG2wIxzuimGdflE3X/pv0yf2C63dEOVwyXd6SlAEsqOEEEywv/YdA+g/hZ4HEG06ZwSaSx/QM8Ekt/oAJsP9T7W0FrYNoKJOcaES9Bjzn2caZx90dYvgwJ4nV1CNOosy08icFlWFI1yM8DKvGKk1yLZtSz4lQPKNsJadUhLYQmKVqJAM8bWUGnPZPnIctg7CwC06H6YtlMyMpW+gOe13IWGuVBqF7BVlQV/p/7lOlaDPVvW0r4UiCWZZMDx84mm5gufYrq8BcSD59Q8jGb8AAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='Real JUnit 5 support (via extension API)' title='' src='/static/2e36f3783fc9661c069d5f569d07ee50/ca1dc/robolectric-junit5-support-issue.png' srcset='/static/2e36f3783fc9661c069d5f569d07ee50/e7570/robolectric-junit5-support-issue.png 170w,\n/static/2e36f3783fc9661c069d5f569d07ee50/f46e7/robolectric-junit5-support-issue.png 340w,\n/static/2e36f3783fc9661c069d5f569d07ee50/ca1dc/robolectric-junit5-support-issue.png 680w,\n/static/2e36f3783fc9661c069d5f569d07ee50/02d09/robolectric-junit5-support-issue.png 1020w,\n/static/2e36f3783fc9661c069d5f569d07ee50/9d567/robolectric-junit5-support-issue.png 1360w,\n/static/2e36f3783fc9661c069d5f569d07ee50/af7a3/robolectric-junit5-support-issue.png 1706w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span>\n    <figcaption class='gatsby-resp-image-figcaption'>Real JUnit 5 support (via extension API)</figcaption>\n  </figure></p>\n<p><code class=\"language-text\">Robolectric</code>의 핵심 기능은 JUnit4의 <code class=\"language-text\">@RunWith</code> 어노테이션을 사용하여 작동하고 있고, 아래의 예시처럼 사용할 수 있습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token comment\">// Robolectric 테스트 예시</span>\n<span class=\"token annotation builtin\">@RunWith</span><span class=\"token punctuation\">(</span>RobolectricTestRunner<span class=\"token operator\">::</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">class</span> MyRobolectricTest <span class=\"token punctuation\">{</span>\n    <span class=\"token annotation builtin\">@Test</span>\n    <span class=\"token keyword\">fun</span> <span class=\"token function\">testButton_click</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">val</span> activity <span class=\"token operator\">=</span> Robolectric<span class=\"token punctuation\">.</span><span class=\"token function\">setupActivity</span><span class=\"token punctuation\">(</span>MyActivity<span class=\"token operator\">::</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">.</span>java<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">val</span> button <span class=\"token operator\">=</span> activity<span class=\"token punctuation\">.</span>findViewById<span class=\"token operator\">&lt;</span>Button<span class=\"token operator\">></span><span class=\"token punctuation\">(</span>R<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">.</span>my_button<span class=\"token punctuation\">)</span>\n        button<span class=\"token punctuation\">.</span><span class=\"token function\">performClick</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token comment\">// 검증 로직</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"JUnit5를-안드로이드에-적용하기\" style=\"position:relative;\"><a href=\"#JUnit5%EB%A5%BC-%EC%95%88%EB%93%9C%EB%A1%9C%EC%9D%B4%EB%93%9C%EC%97%90-%EC%A0%81%EC%9A%A9%ED%95%98%EA%B8%B0\" aria-label=\"JUnit5를 안드로이드에 적용하기 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>JUnit5를 안드로이드에 적용하기</h2>\n<p>Gradle 테스트를 위해 <code class=\"language-text\">JUnit5</code>를 사용하려면 <code class=\"language-text\">useJUnitPlatform()</code> 구성이 필요합니다.</p>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/e9d30e3d8126fe29e50e15756fec4c41/9444d/use-junit-platform-description.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 25.294117647058822%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAtklEQVR42oWQSw7DIAxEc5EkfAx2Auki3VTq/c81HSCRumoXT8MY/GMKkhCzIqRGvlThJcOFBB8TVi9YljBYfzNFNWgtyIXUQfNp2xDNqDuE2hq04n8L9odtomsqL9oJybq6IJ3FhQGT5sVj/tI71guqKkp9YH++O+V8wY6zk6zCuQjHlW9Wek/1cXzJiDN2nafICzOuuR3IukN5bpryBqXm7vkFedwJJ1d62w/m1PGW2ymbixg+PUqOOyM0ZQQAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='use junit platform description' title='' src='/static/e9d30e3d8126fe29e50e15756fec4c41/ca1dc/use-junit-platform-description.png' srcset='/static/e9d30e3d8126fe29e50e15756fec4c41/e7570/use-junit-platform-description.png 170w,\n/static/e9d30e3d8126fe29e50e15756fec4c41/f46e7/use-junit-platform-description.png 340w,\n/static/e9d30e3d8126fe29e50e15756fec4c41/ca1dc/use-junit-platform-description.png 680w,\n/static/e9d30e3d8126fe29e50e15756fec4c41/02d09/use-junit-platform-description.png 1020w,\n/static/e9d30e3d8126fe29e50e15756fec4c41/9d567/use-junit-platform-description.png 1360w,\n/static/e9d30e3d8126fe29e50e15756fec4c41/9444d/use-junit-platform-description.png 2098w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token comment\">// build.gradle.kts</span>\ntasks<span class=\"token punctuation\">.</span>withType<span class=\"token operator\">&lt;</span>Test<span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">useJUnitPlatform</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\ndependencies <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">testImplementation</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"org.junit.jupiter:junit-jupiter-api:5.9.3\"</span></span><span class=\"token punctuation\">)</span>\n    <span class=\"token function\">testRuntimeOnly</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"org.junit.jupiter:junit-jupiter-engine:5.9.3\"</span></span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<blockquote>\n<p><a href=\"https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-api\">https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-api</a>\n<a href=\"https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-engine\">https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-engine</a></p>\n</blockquote>\n<p>그렇다면 <code class=\"language-text\">JUnit5</code>와 <code class=\"language-text\">Robolectric</code>을 함께 사용하려면 어떻게 해야할까요?</p>\n<p>앞서 설명했던 <code class=\"language-text\">JUnit Vintage</code>를 사용하시면 됩니다.</p>\n<p><figure class='gatsby-resp-image-figure' style='margin-bottom: 16px;'>\n    <span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; '>\n      <a class='gatsby-resp-image-link' href='/static/d0d1ea0f39674088060df57b2cf4fd8a/d76be/junit-vintage-description.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 43.529411764705884%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAABtklEQVR42m1RCW7bMBDU/79ToEjaN6StY6QF0ljWQfE+dEaSZXm6ZNIABUpgsLPL5XCPbOk7LN5h6QKW1mNbV1yvO+H6gW3b/ovL5fLBb7cb4smccwjeI9o2BHjiEV3XUcwiBI9hGNCTP0bb9xjHMdmYM7zH4sdJMJBIfKS1TgnRt9Ymbn2bsO03UNGEG3aqZN/3fxDjl21PVWbnosS5KFBVFYQQ4JyjaZqEsjHIa43fBce5tngpJbiQqGoGxjiqskTJFJ4rBxMmEifBvDYQSiexhsQYCUkp34UZpOB0R4/pYV4pFEzjVGlUjaY8QXcKQioak3urkAkHpjpIO0DYHo3uU5vSdmB6gHQTDPmKPo3jkCagVi2E6WAszbwdsCwL5nlJ7WeKNzBa0UJoMdYg0CIib6QH1yRsehhjoS2J0ifadWipGmc0LanH6zRifh3JDthpMdnDs8ThpPGYOzyVnqzFUxHw/cXgEGOFx/FsCBbH3OBXFfCzdMSpdTnhrGfkasJJzRhmqvDTg8Hnbwp3B4evx4C7Hxb3jw735H85GDC/QLQreHjDX95QnPsVzM2JM7dgWnf8AY2Ypn5miDXLAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='https://junit.org/junit5/docs/current/user-guide/' title='' src='/static/d0d1ea0f39674088060df57b2cf4fd8a/ca1dc/junit-vintage-description.png' srcset='/static/d0d1ea0f39674088060df57b2cf4fd8a/e7570/junit-vintage-description.png 170w,\n/static/d0d1ea0f39674088060df57b2cf4fd8a/f46e7/junit-vintage-description.png 340w,\n/static/d0d1ea0f39674088060df57b2cf4fd8a/ca1dc/junit-vintage-description.png 680w,\n/static/d0d1ea0f39674088060df57b2cf4fd8a/02d09/junit-vintage-description.png 1020w,\n/static/d0d1ea0f39674088060df57b2cf4fd8a/9d567/junit-vintage-description.png 1360w,\n/static/d0d1ea0f39674088060df57b2cf4fd8a/d76be/junit-vintage-description.png 2028w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span>\n    <figcaption class='gatsby-resp-image-figcaption'>https://junit.org/junit5/docs/current/user-guide/</figcaption>\n  </figure></p>\n<p><code class=\"language-text\">JUnit Vintage</code>는 JUnit3와 JUnit4 기반의 테스트를 위해 테스트 엔진을 제공해줍니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token comment\">// build.gradle.kts</span>\ndependencies <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">testRuntimeOnly</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"org.junit.vintage:junit-vintage-engine:5.9.3\"</span></span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<blockquote>\n<p><a href=\"https://mvnrepository.com/artifact/org.junit.vintage/junit-vintage-engine\">https://mvnrepository.com/artifact/org.junit.vintage/junit-vintage-engine</a></p>\n</blockquote>\n<p>이 방법으로 <code class=\"language-text\">JUnit4 + Robolectric 테스트</code>를 <code class=\"language-text\">JUnit5</code> 환경에서 실행할 수 있게 되었습니다.</p>\n<h2 id=\"결론\" style=\"position:relative;\"><a href=\"#%EA%B2%B0%EB%A1%A0\" aria-label=\"결론 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>결론</h2>\n<p>안드로이드 개발 생태계에서는 당분간 JUnit4, JUnit5 두 버전이 공존할 것으로 보입니다. <code class=\"language-text\">Robolectric</code>과 같은 중요한 도구들이 여전히 JUnit4에 의존하고 있기 때문에, 점진적 전환 접근 방식이 현실적일 것 같습니다.</p>\n<ol>\n<li>새로운 단위 테스트에 JUnit5 사용하기</li>\n<li>UI 및 통합 테스트에는 JUnit4 + Robolectric 유지하기</li>\n<li>JUnit Vintage를 통해 두 환경 통합하기</li>\n<li>(중요) 커뮤니티의 진행 상황을 주시하며 점차적으로 전환 계획 세우기</li>\n</ol>\n<h2 id=\"참고\" style=\"position:relative;\"><a href=\"#%EC%B0%B8%EA%B3%A0\" aria-label=\"참고 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>참고</h2>\n<ul>\n<li><a href=\"https://junit.org/junit5/docs/5.1.0/release-notes/index.html#release-notes-5.0.0\">https://junit.org/junit5/docs/5.1.0/release-notes/index.html#release-notes-5.0.0</a></li>\n<li><a href=\"https://github.com/robolectric/robolectric/issues/3477\">https://github.com/robolectric/robolectric/issues/3477</a> </li>\n<li><a href=\"https://junit.org/junit5/docs/current/user-guide/\">https://junit.org/junit5/docs/current/user-guide/</a></li>\n<li><a href=\"https://github.com/android/android-test/issues/409\">https://github.com/android/android-test/issues/409</a></li>\n</ul>","frontmatter":{"title":"JUnit4 vs JUnit5 그리고 Robolectric 호환성 문제 해결하기","date":"March 07, 2025","update":"March 07, 2025","tags":["testing","junit","robolectric"],"series":null},"fields":{"slug":"/junit4-junit5/","readingTime":{"minutes":6.035}}},"seriesList":{"edges":[{"node":{"id":"8e7bdff8-a60d-50a5-aa84-fbc6f7569ebb","fields":{"slug":"/aws-amplify/"},"frontmatter":{"title":"AWS Amplify Android 오픈소스 기여하기"}}},{"node":{"id":"304406d0-f9d7-5cb1-9204-66cda7adc7e3","fields":{"slug":"/fitts-law/"},"frontmatter":{"title":"안드로이드 개발자가 놓치기 쉬운 UX (feat. 피츠의 법칙)"}}},{"node":{"id":"b6eb455b-15e0-51eb-8c18-31e889b742d5","fields":{"slug":"/junit4-junit5/"},"frontmatter":{"title":"JUnit4 vs JUnit5 그리고 Robolectric 호환성 문제 해결하기"}}},{"node":{"id":"438afae6-59fd-5aab-9adf-5c731d92309d","fields":{"slug":"/about/"},"frontmatter":{"title":"안녕하세요 김원석입니다"}}}]},"previous":{"fields":{"slug":"/fitts-law/"},"frontmatter":{"title":"안드로이드 개발자가 놓치기 쉬운 UX (feat. 피츠의 법칙)"}},"next":null},"pageContext":{"id":"b6eb455b-15e0-51eb-8c18-31e889b742d5","series":null,"previousPostId":"304406d0-f9d7-5cb1-9204-66cda7adc7e3","nextPostId":null}},"staticQueryHashes":[],"slicesMap":{}}