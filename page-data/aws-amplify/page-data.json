{"componentChunkName":"component---src-templates-post-jsx","path":"/aws-amplify/","result":{"data":{"site":{"siteMetadata":{"title":"onseok.blog"}},"markdownRemark":{"id":"8e7bdff8-a60d-50a5-aa84-fbc6f7569ebb","excerpt":"AWS AmplifyëŠ” ëª¨ë°”ì¼ ë° í”„ëŸ°íŠ¸ì—”ë“œ ê°œë°œìê°€ AWSì—ì„œ ì•ˆì „í•˜ê³  í™•ì¥ ê°€ëŠ¥í•œ í’€ìŠ¤íƒ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ êµ¬ì¶•í•˜ê³  ë°°í¬í•  ìˆ˜ ìˆë„ë¡ ì§€ì›í•˜ëŠ” ì œí’ˆì…ë‹ˆë‹¤. íšŒì‚¬ì—ì„œ ì„œë¹„ìŠ¤í•˜ê³  ìˆëŠ” í”„ë¡œì íŠ¸ì—ì„œ S3ë¡œ ë¡œê·¸ íŒŒì¼ì„ ì£¼ê¸°ì ìœ¼ë¡œ ì—…ë¡œë“œí•˜ëŠ” ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ê³  ê¾¸ì¤€íˆ ëª¨ë‹ˆí„°ë§í•˜ì˜€ëŠ”ë°, ì—¬ëŸ¬ Android ê¸°ê¸°ì—ì„œ java.lang.OutOfMemoryError ì˜¤ë¥˜â€¦","html":"<p>AWS AmplifyëŠ” ëª¨ë°”ì¼ ë° í”„ëŸ°íŠ¸ì—”ë“œ ê°œë°œìê°€ AWSì—ì„œ ì•ˆì „í•˜ê³  í™•ì¥ ê°€ëŠ¥í•œ í’€ìŠ¤íƒ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ êµ¬ì¶•í•˜ê³  ë°°í¬í•  ìˆ˜ ìˆë„ë¡ ì§€ì›í•˜ëŠ” ì œí’ˆì…ë‹ˆë‹¤. íšŒì‚¬ì—ì„œ ì„œë¹„ìŠ¤í•˜ê³  ìˆëŠ” í”„ë¡œì íŠ¸ì—ì„œ S3ë¡œ ë¡œê·¸ íŒŒì¼ì„ ì£¼ê¸°ì ìœ¼ë¡œ ì—…ë¡œë“œí•˜ëŠ” ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ê³  ê¾¸ì¤€íˆ ëª¨ë‹ˆí„°ë§í•˜ì˜€ëŠ”ë°, ì—¬ëŸ¬ Android ê¸°ê¸°ì—ì„œ <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/memleaks002.html\">java.lang.OutOfMemoryError</a> ì˜¤ë¥˜ê°€ ë°˜ë³µì ìœ¼ë¡œ ë°œìƒí•˜ëŠ” ê²ƒì„ ë°œê²¬í–ˆìŠµë‹ˆë‹¤.</p>\n<h3 id=\"ì›ì¸ì„-ë¶„ì„í•´ë³´ì\" style=\"position:relative;\"><a href=\"#%EC%9B%90%EC%9D%B8%EC%9D%84-%EB%B6%84%EC%84%9D%ED%95%B4%EB%B3%B4%EC%9E%90\" aria-label=\"ì›ì¸ì„ ë¶„ì„í•´ë³´ì permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>ì›ì¸ì„ ë¶„ì„í•´ë³´ì</h3>\n<p>ìˆ˜ì§‘ëœ í¬ë˜ì‹œ ë¦¬í¬íŠ¸ë¥¼ ìš”ì•½í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì•˜ìŠµë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Fatal Exception: java.lang.OutOfMemoryError: Failed to allocate a 8388620 byte allocation with 8388608 free bytes and 19MB until OOM\n       at java.util.IdentityHashMap.resize(IdentityHashMap.java:476)\n       at java.util.IdentityHashMap.put(IdentityHashMap.java:452)\n       ...\n       at com.amplifyframework.storage.s3.transfer.TransferWorkerObserver$attachObserver$2.invokeSuspend(TransferWorkerObserver.kt:199)</code></pre></div>\n<p><a href=\"https://github.com/aws-amplify/amplify-android/blob/main/aws-storage-s3/src/main/java/com/amplifyframework/storage/s3/transfer/TransferWorkerObserver.kt\">TransferWorkerObserver</a> í´ë˜ìŠ¤ì—ì„œ ë™ì¼í•œ ì „ì†¡ íƒœê·¸ì— ëŒ€í•´ <code class=\"language-text\">LiveData.observeForever()</code>ê°€ ì¤‘ë³µ í˜¸ì¶œë˜ë©°, ì—¬ëŸ¬ ê´€ì°°ìê°€ ë“±ë¡ëœ ê²ƒìœ¼ë¡œ ë³´ì˜€ê³ , ì´ëŠ” <code class=\"language-text\">LiveData</code> ë‚´ë¶€ì˜ <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/IdentityHashMap.html\">IdentityHashMap</a>ì´ ê³¼ë„í•˜ê²Œ ì»¤ì ¸ ë©”ëª¨ë¦¬ í• ë‹¹ì— ì‹¤íŒ¨í•˜ê²Œ ë§Œë“¤ê³ , íŠ¹íˆ <code class=\"language-text\">Room</code> ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ <a href=\"https://developer.android.com/reference/androidx/room/InvalidationTracker\">InvalidationTracker</a>ì™€ ì—°ê³„ëœ <code class=\"language-text\">LiveData</code> ì‚¬ìš©ìœ¼ë¡œ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì´ ë” ì¦ê°€í•œ ê²ƒìœ¼ë¡œ íŒë‹¨í•˜ì˜€ìŠµë‹ˆë‹¤.</p>\n<h3 id=\"ì´ìŠˆ-ë“±ë¡í•˜ê¸°\" style=\"position:relative;\"><a href=\"#%EC%9D%B4%EC%8A%88-%EB%93%B1%EB%A1%9D%ED%95%98%EA%B8%B0\" aria-label=\"ì´ìŠˆ ë“±ë¡í•˜ê¸° permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>ì´ìŠˆ ë“±ë¡í•˜ê¸°</h3>\n<p>ì €ëŠ” ë¨¼ì € ì´ ë¬¸ì œë¥¼ ê³µìœ í•˜ê¸° ìœ„í•´ í…œí”Œë¦¿ì— ë§ì¶”ì–´ <a href=\"https://github.com/aws-amplify/amplify-android/issues/2840\">ì´ìŠˆ</a>ë¥¼ ë“±ë¡í•´ì£¼ì—ˆìŠµë‹ˆë‹¤.</p>\n<p>ë‹¤ë§Œ, <strong>ë³´ì•ˆìƒ</strong> íšŒì‚¬ ì½”ë“œë¥¼ ì „ë¶€ ìŠ¤ë‹ˆí«ì— ì²¨ë¶€í•  ìˆ˜ëŠ” ì—†ì—ˆê¸° ë•Œë¬¸ì— ë¯¼ê°í•œ ì½”ë“œëŠ” ì „ë¶€ ì œê±°í•˜ê³  í•µì‹¬ ë¡œì§ë§Œ ë‹¤ì‹œ ì¬ì‘ì„±í•˜ì˜€ìŠµë‹ˆë‹¤. ì´ìŠˆë€ì— ì²¨ë¶€í•œ ì½”ë“œ ìŠ¤ë‹ˆí«ì€ ë‹¤ìŒê³¼ ê°™ì•˜ìŠµë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token annotation builtin\">@HiltWorker</span>\n<span class=\"token keyword\">class</span> LogUploadWorker <span class=\"token annotation builtin\">@AssistedInject</span> <span class=\"token keyword\">constructor</span><span class=\"token punctuation\">(</span>\n    <span class=\"token annotation builtin\">@Assisted</span> <span class=\"token keyword\">private</span> <span class=\"token keyword\">val</span> appContext<span class=\"token operator\">:</span> Context<span class=\"token punctuation\">,</span>\n    <span class=\"token annotation builtin\">@Assisted</span> workerParams<span class=\"token operator\">:</span> WorkerParameters<span class=\"token punctuation\">,</span>\n    <span class=\"token annotation builtin\">@Dispatcher</span><span class=\"token punctuation\">(</span>IO<span class=\"token punctuation\">)</span> <span class=\"token keyword\">private</span> <span class=\"token keyword\">val</span> ioDispatcher<span class=\"token operator\">:</span> CoroutineDispatcher\n<span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token function\">CoroutineWorker</span><span class=\"token punctuation\">(</span>appContext<span class=\"token punctuation\">,</span> workerParams<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">suspend</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">getForegroundInfo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> ForegroundInfo <span class=\"token operator\">=</span>\n        appContext<span class=\"token punctuation\">.</span><span class=\"token function\">logSyncForegroundInfo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">suspend</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">doWork</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> Result <span class=\"token operator\">=</span> <span class=\"token function\">withContext</span><span class=\"token punctuation\">(</span>ioDispatcher<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">val</span> externalFilesDirPath <span class=\"token operator\">=</span> inputData<span class=\"token punctuation\">.</span><span class=\"token function\">getString</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"externalFilesDirPath\"</span></span><span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">val</span> externalFilesDir <span class=\"token operator\">=</span> externalFilesDirPath<span class=\"token operator\">?</span><span class=\"token punctuation\">.</span><span class=\"token function\">let</span> <span class=\"token punctuation\">{</span> <span class=\"token function\">File</span><span class=\"token punctuation\">(</span>it<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>externalFilesDir <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span> <span class=\"token operator\">&amp;&amp;</span> externalFilesDir<span class=\"token punctuation\">.</span><span class=\"token function\">exists</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token function\">uploadLogFiles</span><span class=\"token punctuation\">(</span>externalFilesDir<span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>e<span class=\"token operator\">:</span> Exception<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            Timber<span class=\"token punctuation\">.</span><span class=\"token function\">e</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"Log upload exception: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token expression\">e<span class=\"token punctuation\">.</span>message</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span>\n            Result<span class=\"token punctuation\">.</span><span class=\"token function\">retry</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span>\n        Result<span class=\"token punctuation\">.</span><span class=\"token function\">success</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token annotation builtin\">@OptIn</span><span class=\"token punctuation\">(</span>ExperimentalCoroutinesApi<span class=\"token operator\">::</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">,</span> FlowPreview<span class=\"token operator\">::</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">suspend</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">uploadLogFiles</span><span class=\"token punctuation\">(</span>externalFilesDir<span class=\"token operator\">:</span> File<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">val</span> curFiles <span class=\"token operator\">=</span> externalFilesDir<span class=\"token punctuation\">.</span><span class=\"token function\">listFiles</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">?</span><span class=\"token punctuation\">.</span><span class=\"token function\">filter</span> <span class=\"token punctuation\">{</span> file <span class=\"token operator\">-></span>\n            System<span class=\"token punctuation\">.</span><span class=\"token function\">currentTimeMillis</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> file<span class=\"token punctuation\">.</span><span class=\"token function\">lastModified</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;</span> TWO_WEEK_TIME_MILLIS\n        <span class=\"token punctuation\">}</span><span class=\"token operator\">?</span><span class=\"token punctuation\">.</span><span class=\"token function\">sortedByDescending</span> <span class=\"token punctuation\">{</span> it<span class=\"token punctuation\">.</span><span class=\"token function\">lastModified</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span>\n\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>curFiles<span class=\"token punctuation\">.</span><span class=\"token function\">isNullOrEmpty</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            Timber<span class=\"token punctuation\">.</span><span class=\"token function\">i</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"No log files or directory found.\"</span></span><span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">return</span>\n        <span class=\"token punctuation\">}</span>\n        \n        <span class=\"token keyword\">val</span> environmentPrefix <span class=\"token operator\">=</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>BuildConfig<span class=\"token punctuation\">.</span>DEBUG<span class=\"token punctuation\">)</span> <span class=\"token string-literal singleline\"><span class=\"token string\">\"debug\"</span></span> <span class=\"token keyword\">else</span> <span class=\"token string-literal singleline\"><span class=\"token string\">\"release\"</span></span>\n        <span class=\"token keyword\">val</span> dateFormat <span class=\"token operator\">=</span> <span class=\"token function\">SimpleDateFormat</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"yyyy-MM-dd\"</span></span><span class=\"token punctuation\">,</span> Locale<span class=\"token punctuation\">.</span><span class=\"token function\">getDefault</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n        curFiles<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span> <span class=\"token punctuation\">{</span> file <span class=\"token operator\">-></span>\n            <span class=\"token keyword\">val</span> date <span class=\"token operator\">=</span> dateFormat<span class=\"token punctuation\">.</span><span class=\"token function\">format</span><span class=\"token punctuation\">(</span><span class=\"token function\">Date</span><span class=\"token punctuation\">(</span>file<span class=\"token punctuation\">.</span><span class=\"token function\">lastModified</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">val</span> fileIndex <span class=\"token operator\">=</span> file<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">.</span><span class=\"token function\">substringBefore</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"_logs.txt\"</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">takeLastWhile</span> <span class=\"token punctuation\">{</span> it<span class=\"token punctuation\">.</span><span class=\"token function\">isDigit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span>\n            <span class=\"token keyword\">val</span> key <span class=\"token operator\">=</span> <span class=\"token string-literal singleline\"><span class=\"token string\">\"</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$</span><span class=\"token expression\">environmentPrefix</span></span><span class=\"token string\">/sample/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$</span><span class=\"token expression\">date</span></span><span class=\"token string\">/log</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$</span><span class=\"token expression\">fileIndex</span></span><span class=\"token string\">.txt\"</span></span>\n\n            <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">val</span> result <span class=\"token operator\">=</span> Amplify<span class=\"token punctuation\">.</span>Storage<span class=\"token punctuation\">.</span><span class=\"token function\">uploadFile</span><span class=\"token punctuation\">(</span>\n                    StoragePath<span class=\"token punctuation\">.</span><span class=\"token function\">fromString</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"public/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$</span><span class=\"token expression\">key</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                    file\n                <span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">result</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                Timber<span class=\"token punctuation\">.</span><span class=\"token function\">i</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"Log file upload successful: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token expression\">result<span class=\"token punctuation\">.</span>path</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>error<span class=\"token operator\">:</span> Exception<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                Timber<span class=\"token punctuation\">.</span><span class=\"token function\">e</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"Log file upload failed: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token expression\">error<span class=\"token punctuation\">.</span>message</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> - </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token expression\">error<span class=\"token punctuation\">.</span>cause</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">companion</span> <span class=\"token keyword\">object</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">private</span> <span class=\"token keyword\">const</span> <span class=\"token keyword\">val</span> TWO_WEEK_TIME_MILLIS <span class=\"token operator\">=</span> <span class=\"token number\">14</span> <span class=\"token operator\">*</span> <span class=\"token number\">24</span> <span class=\"token operator\">*</span> <span class=\"token number\">60</span> <span class=\"token operator\">*</span> <span class=\"token number\">60</span> <span class=\"token operator\">*</span> <span class=\"token number\">1000L</span>\n\n        <span class=\"token keyword\">fun</span> <span class=\"token function\">startUpUploadWork</span><span class=\"token punctuation\">(</span>\n            externalFilesDirPath<span class=\"token operator\">:</span> File<span class=\"token operator\">?</span>\n        <span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> PeriodicWorkRequestBuilder<span class=\"token operator\">&lt;</span>LogUploadWorker<span class=\"token operator\">></span><span class=\"token punctuation\">(</span>\n            <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> TimeUnit<span class=\"token punctuation\">.</span>HOURS<span class=\"token punctuation\">,</span>\n            <span class=\"token number\">5</span><span class=\"token punctuation\">,</span> TimeUnit<span class=\"token punctuation\">.</span>MINUTES\n        <span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">setConstraints</span><span class=\"token punctuation\">(</span>LogSyncConstraints<span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">setBackoffCriteria</span><span class=\"token punctuation\">(</span>\n                BackoffPolicy<span class=\"token punctuation\">.</span>LINEAR<span class=\"token punctuation\">,</span>\n                MIN_BACKOFF_MILLIS<span class=\"token punctuation\">,</span>\n                TimeUnit<span class=\"token punctuation\">.</span>MILLISECONDS\n            <span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">setInputData</span><span class=\"token punctuation\">(</span>\n                Data<span class=\"token punctuation\">.</span><span class=\"token function\">Builder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                    <span class=\"token punctuation\">.</span><span class=\"token function\">putString</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"externalFilesDirPath\"</span></span><span class=\"token punctuation\">,</span> externalFilesDirPath<span class=\"token operator\">?</span><span class=\"token punctuation\">.</span>absolutePath<span class=\"token punctuation\">)</span>\n                    <span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ê°„ë‹¨í•˜ê²Œ ìœ„ ìŠ¤ë‹ˆí«ì˜ ë¡œì§ì„ ì„¤ëª…í•˜ë©´, ë¨¼ì € ë¡œê·¸ íŒŒì¼ ë””ë ‰í„°ë¦¬ ê²½ë¡œë¥¼ ê¸°ë°˜ìœ¼ë¡œ íŒŒì¼ ê°ì²´ë¥¼ ìƒì„±í•˜ê³ , <strong>2ì£¼</strong> ì´ë‚´ì— ìˆ˜ì •ëœ íŒŒì¼ë“¤ì„ í•„í„°ë§í•˜ë©°, ìµœê·¼ ìˆ˜ì •ëœ ìˆœì„œë¡œ ì •ë ¬í•œ ë’¤, ì˜ˆì™¸ê°€ ë°œìƒí–ˆì„ ë•Œì—ëŠ” <code class=\"language-text\">ì„ í˜• ì¬ì‹œë„</code> ì •ì±…ì„ ë”°ë¥´ë„ë¡ ì„¤ì •í•´ì£¼ì—ˆê³ , ê° íŒŒì¼ì— ëŒ€í•´ <code class=\"language-text\">ë¹Œë“œíƒ€ì…</code>ì— ë”°ë¥¸ ì •ë³´ì™€, íŒŒì¼ì˜ ìˆ˜ì • ë‚ ì§œ, íŒŒì¼ ì´ë¦„ì˜ ì¸ë±ìŠ¤ë¥¼ ì¡°í•©í•˜ì—¬ AWS S3ì— ì €ì¥í•  í‚¤ë¥¼ êµ¬ì„±í•˜ê³ , ì´í›„ íŒŒì¼ì„ ì—…ë¡œë“œí•˜ê³  ê·¸ ê²°ê³¼ë¥¼ Timber ë¡œê·¸ë¡œ ë‚¨ê¸°ëŠ” íë¦„ì…ë‹ˆë‹¤. ì´ ì‘ì—…ì€ <code class=\"language-text\">ì£¼ê¸°ì ìœ¼ë¡œ ì‹¤í–‰ë˜ëŠ” ì‘ì—…</code>ì— í•´ë‹¹í•˜ë¯€ë¡œ <a href=\"https://developer.android.com/topic/libraries/architecture/workmanager?hl=ko\">Workmanager</a>ì˜ <a href=\"https://developer.android.com/reference/androidx/work/PeriodicWorkRequest.Builder\">PeriodicWorkRequest.Builder</a>ë¥¼ í™œìš©í•˜ì˜€ìŠµë‹ˆë‹¤.</p>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/1f60a18ae5a15a527739d5f75a973dec/5dd2a/aws-amplify-issue-comment.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 26.47058823529412%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA4ElEQVR42mWP3XKCMBSEua6tIoSfQCABDViqFLS2jn2Bvv8LbXMOI2WmF99s9iRnZ+ON9x/Y0w22G6DtEap+RVpaiKxC5BCStGZoNiMNwtQgSDSkbiDLBhuRwVv5MbZxjsp2KOsWRdVC7w5OG+cP7JWx7JVp+EzvZFHDFxKB2w0TxboOEnjPfsSDrr/gbbji/XLDafxk35+/cHSz3s368wTdDR93jNdvDs7LHXK9R6qqv0BKN/up4QNqNLVsZ320U87TLyhktREM5cyBfpS5lgWe1iFf/GOxtNSXbcwhS34BAD6GLRjpV7kAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='aws amplify issue comment' title='' src='/static/1f60a18ae5a15a527739d5f75a973dec/ca1dc/aws-amplify-issue-comment.png' srcset='/static/1f60a18ae5a15a527739d5f75a973dec/e7570/aws-amplify-issue-comment.png 170w,\n/static/1f60a18ae5a15a527739d5f75a973dec/f46e7/aws-amplify-issue-comment.png 340w,\n/static/1f60a18ae5a15a527739d5f75a973dec/ca1dc/aws-amplify-issue-comment.png 680w,\n/static/1f60a18ae5a15a527739d5f75a973dec/02d09/aws-amplify-issue-comment.png 1020w,\n/static/1f60a18ae5a15a527739d5f75a973dec/9d567/aws-amplify-issue-comment.png 1360w,\n/static/1f60a18ae5a15a527739d5f75a973dec/5dd2a/aws-amplify-issue-comment.png 1926w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<p>ì´í›„ í•´ë‹¹ ì´ìŠˆë€ì˜ ì½”ë©˜íŠ¸ë¥¼ í†µí•´ ë©”ì¸í…Œì´ë„ˆë¶„ë“¤ê³¼ ì´ìŠˆì˜ ë°œìƒ ë¹ˆë„ì™€ ë¬¸ì œ ë°œìƒ ê¸°ê¸°ì˜ ìŠ¤í™ ì •ë³´ë“¤ì„ ìš”ì²­ë°›ì•˜ê³ , ë‹¹ì‹œì—ëŠ” <a href=\"https://github.com/aws-amplify/amplify-android\">aws-amplify/amplify-android</a> ë¼ì´ë¸ŒëŸ¬ë¦¬ ìì²´ì˜ ë¬¸ì œë¼ê¸°ë³´ë‹¤ëŠ” <code class=\"language-text\">ë‚´ê°€ êµ¬í˜„í•œ ì½”ë“œì— ë¬¸ì œê°€ ìˆì—ˆë‚˜?</code>, <code class=\"language-text\">OOMì´ ë°œìƒí•˜ì§€ ì•Šë„ë¡ ë” ìµœì í™” í• ìˆ˜ëŠ” ì—†ëŠ”ê°€?</code>ë¼ê³  ê³ ë¯¼ì„ í•˜ì˜€ê³ , ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ì•„ë˜ì˜ ê°œì„ ì‘ì—…ë“¤ì„ ì§„í–‰í–ˆìŠµë‹ˆë‹¤.</p>\n<ul>\n<li>ë¡œê·¸ íŒŒì¼ ë¦¬ìŠ¤íŠ¸ë¥¼ ì¦‰ì‹œ ëª¨ë‘ ë©”ëª¨ë¦¬ì— ë¡œë“œí•˜ì§€ ì•Šê³ , í•„ìš”í•œ ì‹œì ì—ë§Œ File ê°ì²´ë¥¼ ìƒì„±í•˜ë„ë¡ ê°œì„ í•˜ê¸°</li>\n<li>14ì¼ ì´ìƒëœ ì˜¤ë˜ëœ ë¡œê·¸ íŒŒì¼ë“¤ì„ ì£¼ê¸°ì ìœ¼ë¡œ ì‚­ì œí•˜ì—¬ ì²˜ë¦¬í•´ì•¼í•  ë¡œê·¸ íŒŒì¼ ìˆ˜ ìì²´ë¥¼ ì¤„ì´ê¸°</li>\n</ul>\n<p>í•˜ì§€ë§Œ, ì´ëŸ¬í•œ ë…¸ë ¥ì—ë„ ë¶ˆêµ¬í•˜ê³  ì—¬ì „íˆ ì£¼ê¸°ì ìœ¼ë¡œ OOM ì˜¤ë¥˜ë“¤ì´ ìˆ˜ì§‘ë˜ì—ˆìŠµë‹ˆë‹¤.</p>\n<h3 id=\"ì§ì ‘-ìˆ˜ì •í•´ë³´ì\" style=\"position:relative;\"><a href=\"#%EC%A7%81%EC%A0%91-%EC%88%98%EC%A0%95%ED%95%B4%EB%B3%B4%EC%9E%90\" aria-label=\"ì§ì ‘ ìˆ˜ì •í•´ë³´ì permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>ì§ì ‘ ìˆ˜ì •í•´ë³´ì</h3>\n<p>ì˜¤í”ˆì†ŒìŠ¤ì™€ ê´€ë ¨ëœ í™œë™ì„ í•œë‹¤ë©´, ë¼ì´ì„ ìŠ¤ ê·œì •ì„ ì˜ ì¤€ìˆ˜í•´ì•¼ í•©ë‹ˆë‹¤. ë˜í•œ ì˜¤í”ˆì†ŒìŠ¤ í”„ë¡œì íŠ¸ì— ì»¨íŠ¸ë¦¬ë·°ì…˜ì„ í•˜ê¸° ì „ì—ëŠ” <code class=\"language-text\">CONTRIBUTING.md</code> íŒŒì¼ì„ ê¼¼ê¼¼í•˜ê²Œ ì½ì–´ ê°€ì´ë“œë¼ì¸ì„ ì˜ ì¤€ìˆ˜í•  ìˆ˜ ìˆë„ë¡ í•´ì•¼í•©ë‹ˆë‹¤.</p>\n<p>ì €ëŠ” ì§ì ‘ ìˆ˜ì •í•´ë³´ê¸°ë¡œ ë§ˆìŒë¨¹ì—ˆìŠµë‹ˆë‹¤. ìˆ˜ì§‘ëœ í¬ë˜ì‹œ ë¦¬í¬íŠ¸ë¥¼ ë‹¤ì‹œ ë¶„ì„í•˜ì—¬ ì½”ë“œë¥¼ ìˆ˜ì •í•œ ë’¤ PRì„ ìƒì„±í•˜ì˜€ê³ , ìˆ˜ì •ëœ ì½”ë“œëŠ” ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">import</span> java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span>concurrent<span class=\"token punctuation\">.</span>ConcurrentHashMap\n\n<span class=\"token keyword\">private</span> <span class=\"token keyword\">val</span> observedTags <span class=\"token operator\">=</span> ConcurrentHashMap<span class=\"token punctuation\">.</span>newKeySet<span class=\"token operator\">&lt;</span>String<span class=\"token operator\">></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">private</span> <span class=\"token keyword\">suspend</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">attachObserver</span><span class=\"token punctuation\">(</span>tag<span class=\"token operator\">:</span> String<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">withContext</span><span class=\"token punctuation\">(</span>Dispatchers<span class=\"token punctuation\">.</span>Main<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>observedTags<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>tag<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span><span class=\"token label symbol\">@withContext</span>\n        <span class=\"token keyword\">val</span> liveData <span class=\"token operator\">=</span> workManager<span class=\"token punctuation\">.</span><span class=\"token function\">getWorkInfosByTagLiveData</span><span class=\"token punctuation\">(</span>tag<span class=\"token punctuation\">)</span>\n        liveData<span class=\"token punctuation\">.</span><span class=\"token function\">observeForever</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token label symbol\">@TransferWorkerObserver</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">private</span> <span class=\"token keyword\">suspend</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">removeObserver</span><span class=\"token punctuation\">(</span>tag<span class=\"token operator\">:</span> String<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">withContext</span><span class=\"token punctuation\">(</span>Dispatchers<span class=\"token punctuation\">.</span>Main<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>observedTags<span class=\"token punctuation\">.</span><span class=\"token function\">remove</span><span class=\"token punctuation\">(</span>tag<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span><span class=\"token label symbol\">@withContext</span>\n        workManager<span class=\"token punctuation\">.</span><span class=\"token function\">getWorkInfosByTagLiveData</span><span class=\"token punctuation\">(</span>tag<span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">removeObserver</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token label symbol\">@TransferWorkerObserver</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>AWS Amplify Storage ëª¨ë“ˆì˜ <a href=\"https://github.com/aws-amplify/amplify-android/blob/main/aws-storage-s3/src/main/java/com/amplifyframework/storage/s3/transfer/TransferWorkerObserver.kt\">TransferWorkerObserver</a> í´ë˜ìŠ¤ì— ì¤‘ë³µ ê´€ì°°ì ë“±ë¡ì„ ë°©ì§€í•˜ëŠ” ë¡œì§ì„ ì¶”ê°€í•˜ì˜€ê³ , <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentHashMap.html\">ConcurrentHashMap</a>ì€ <code class=\"language-text\">thread-safe</code>í•˜ë©°, <code class=\"language-text\">ConcurrentHashMap.newKeySet()</code>ì€ <code class=\"language-text\">Set</code> ì¸í„°í˜ì´ìŠ¤ë¥¼ ì œê³µí•´ì£¼ëŠ”ë°, íƒœê·¸ê°€ ì´ë¯¸ ì¡´ì¬í•˜ë©´ <code class=\"language-text\">add()</code>ëŠ” <code class=\"language-text\">false</code>ë¥¼ ë°˜í™˜í•˜ê³ , ì–¼ë¦¬ ë¦¬í„´ì„ í†µí•´ í•¨ìˆ˜ë¥¼ ì¢…ë£Œí•©ë‹ˆë‹¤. ë§ˆì°¬ê°€ì§€ë¡œ <code class=\"language-text\">remove()</code>ëŠ” íƒœê·¸ê°€ <code class=\"language-text\">observedTags</code>ì— ì—†ìœ¼ë©´ falseë¥¼ ë°˜í™˜í•˜ê³  í•¨ìˆ˜ë¥¼ ì¢…ë£Œì‹œí‚µë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ë¶ˆí•„ìš”í•œ ì¤‘ë³µëœ íƒœê·¸ ë“±ë¡ì„ ë°©ì§€í•  ìˆ˜ ìˆë„ë¡ ìˆ˜ì •í•˜ì˜€ìŠµë‹ˆë‹¤.</p>\n<h3 id=\"ë¿Œë“¯í•œ-ê²°ê³¼\" style=\"position:relative;\"><a href=\"#%EB%BF%8C%EB%93%AF%ED%95%9C-%EA%B2%B0%EA%B3%BC\" aria-label=\"ë¿Œë“¯í•œ ê²°ê³¼ permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>ë¿Œë“¯í•œ ê²°ê³¼</h3>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/46bf8fdb3c0204b69df6052b2d090ede/46dcf/aws-amplify-approve-comment.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 32.94117647058823%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAABLklEQVR42m2R3U7EIBCFe2ni1rawBVqgQH/3r2q88QV8/1c6DtTtauLFF5KBOZw5k53XBdXFIowXGD+ibhzR7XChkZdHosYhIZBXD6T20H5C6wZUdYvMhxGmX6GMh2g9uDRgJMKVxZEohUVRRwwK3uCFyT+CJVepT7uZBDWyourwOn1hOl0xX95JOCShphuSY9aO4OYKYebkhktyXNUkLBIHcq/sgOX2kabLnO/BGkOWZwgdUNNvESYtKnLHBDlOru0G1bmKcfgdaXqqOZRHGvl8WuCmFde3T4R5hZ9uCRNOkPRz043UsKHsAya7nWhGmgFlHPkp53DDgi5MaEig7TZMDHo/+4R2YyJGEce+81xsS4v5ZnklKTND21R0UadM4jbjozuHnw3/rsXm//gGPK21BL1vINcAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='aws amplify approve comment' title='' src='/static/46bf8fdb3c0204b69df6052b2d090ede/ca1dc/aws-amplify-approve-comment.png' srcset='/static/46bf8fdb3c0204b69df6052b2d090ede/e7570/aws-amplify-approve-comment.png 170w,\n/static/46bf8fdb3c0204b69df6052b2d090ede/f46e7/aws-amplify-approve-comment.png 340w,\n/static/46bf8fdb3c0204b69df6052b2d090ede/ca1dc/aws-amplify-approve-comment.png 680w,\n/static/46bf8fdb3c0204b69df6052b2d090ede/02d09/aws-amplify-approve-comment.png 1020w,\n/static/46bf8fdb3c0204b69df6052b2d090ede/9d567/aws-amplify-approve-comment.png 1360w,\n/static/46bf8fdb3c0204b69df6052b2d090ede/46dcf/aws-amplify-approve-comment.png 1948w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<p>ë©”ì¸í…Œì´ë„ˆë¶„ìœ¼ë¡œë¶€í„° ì¢‹ì€ ì•„ì´ë””ì–´ë¼ëŠ” ì˜ê²¬ê³¼ í•¨ê»˜ ëª‡ ê°€ì§€ ì œì•ˆì‚¬í•­ë“¤ì„ ìˆ˜ì •í•œ ë’¤ì— ìµœì¢… ìŠ¹ì¸ì´ ë˜ì—ˆê³ , <a href=\"https://github.com/aws-amplify/amplify-android/releases/tag/release_v2.27.1\">2.27.1</a> ë²„ì „ì— í•´ë‹¹ ì‘ì—…ì´ ë°˜ì˜ë˜ì–´ ë¦´ë¦¬ì¦ˆ ë˜ì—ˆìŠµë‹ˆë‹¤ ğŸ‰ </p>\n<p>ì´ëŸ¬í•œ ê²½í—˜ì„ í†µí•´ì„œ íšŒì‚¬ í”„ë¡œì íŠ¸ì—ì„œ ì‚¬ìš©ì¤‘ì¸ ì˜¤í”ˆì†ŒìŠ¤ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì˜¤ë¥˜ë¥¼ ë°œê²¬í•˜ë©´ ì ê·¹ì ìœ¼ë¡œ PRì„ ì˜¬ë ¤ ê¸°ì—¬í•˜ê³  ë¬¸ì œë¥¼ ìˆ˜ì •í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë‹¤ê³  ëŠê¼ˆê³ , ìì£¼ ì‚¬ìš©í–ˆì§€ë§Œ ëª°ëë˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ ë‚´ë¶€ ë™ì‘ì„ ì‚´í´ë³´ëŠ” ê²½í—˜ì„ í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.</p>\n<h3 id=\"ì•„ì‰¬ì› ë˜-ì -ê·¸ë¦¬ê³ -ë°˜ì„±\" style=\"position:relative;\"><a href=\"#%EC%95%84%EC%89%AC%EC%9B%A0%EB%8D%98-%EC%A0%90-%EA%B7%B8%EB%A6%AC%EA%B3%A0-%EB%B0%98%EC%84%B1\" aria-label=\"ì•„ì‰¬ì› ë˜ ì  ê·¸ë¦¬ê³  ë°˜ì„± permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>ì•„ì‰¬ì› ë˜ ì , ê·¸ë¦¬ê³  ë°˜ì„±</h3>\n<blockquote>\n<p>ë§Œì•½ Heap Dumpë¥¼ ë”ìš± ëˆì§ˆê¸°ê²Œ ë¶„ì„í–ˆë”ë¼ë©´, ë¬¸ì œì˜ ê·¼ë³¸ ì›ì¸ì„ ë” ë¹ ë¥´ê²Œ íŒŒì•…í•˜ê³  ë³´ë‹¤ ë” ê·¼ê±°ìˆëŠ” ì´ìŠˆ íŠ¸ë˜í‚¹ì— í° ë„ì›€ì´ ë˜ì—ˆì§€ ì•Šì•˜ì„ê¹Œ?</p>\n</blockquote>","frontmatter":{"title":"AWS Amplify Android ì˜¤í”ˆì†ŒìŠ¤ ê¸°ì—¬í•˜ê¸°","date":"February 25, 2025","update":"February 25, 2025","tags":["opensource"],"series":null},"fields":{"slug":"/aws-amplify/","readingTime":{"minutes":8.285}}},"seriesList":{"edges":[{"node":{"id":"8e7bdff8-a60d-50a5-aa84-fbc6f7569ebb","fields":{"slug":"/aws-amplify/"},"frontmatter":{"title":"AWS Amplify Android ì˜¤í”ˆì†ŒìŠ¤ ê¸°ì—¬í•˜ê¸°"}}},{"node":{"id":"304406d0-f9d7-5cb1-9204-66cda7adc7e3","fields":{"slug":"/fitts-law/"},"frontmatter":{"title":"ì•ˆë“œë¡œì´ë“œ ê°œë°œìê°€ ë†“ì¹˜ê¸° ì‰¬ìš´ UX (feat. í”¼ì¸ ì˜ ë²•ì¹™)"}}},{"node":{"id":"b6eb455b-15e0-51eb-8c18-31e889b742d5","fields":{"slug":"/junit4-junit5/"},"frontmatter":{"title":"JUnit4 vs JUnit5 ê·¸ë¦¬ê³  Robolectric í˜¸í™˜ì„± ë¬¸ì œ í•´ê²°í•˜ê¸°"}}},{"node":{"id":"438afae6-59fd-5aab-9adf-5c731d92309d","fields":{"slug":"/about/"},"frontmatter":{"title":"ì•ˆë…•í•˜ì„¸ìš” ê¹€ì›ì„ì…ë‹ˆë‹¤"}}}]},"previous":{"fields":{"slug":"/jvm-under-the-hood/"},"frontmatter":{"title":"ì±… ã€JVM ë°‘ë°”ë‹¥ê¹Œì§€ íŒŒí—¤ì¹˜ê¸°ã€ í›„ê¸°"}},"next":{"fields":{"slug":"/fitts-law/"},"frontmatter":{"title":"ì•ˆë“œë¡œì´ë“œ ê°œë°œìê°€ ë†“ì¹˜ê¸° ì‰¬ìš´ UX (feat. í”¼ì¸ ì˜ ë²•ì¹™)"}}},"pageContext":{"id":"8e7bdff8-a60d-50a5-aa84-fbc6f7569ebb","series":null,"previousPostId":"d2ebdb60-2bb2-53a8-82d4-5766746f2c97","nextPostId":"304406d0-f9d7-5cb1-9204-66cda7adc7e3"}},"staticQueryHashes":[],"slicesMap":{}}